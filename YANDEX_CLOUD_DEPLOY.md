# üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Yandex Cloud

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1. **–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ Yandex Cloud**
2. **–°–æ–∑–¥–∞–π—Ç–µ –ø–ª–∞—Ç–µ–∂–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç**
3. **–°–æ–∑–¥–∞–π—Ç–µ –æ–±–ª–∞–∫–æ –∏ –∫–∞—Ç–∞–ª–æ–≥**

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Container Registry

1. **–í –∫–æ–Ω—Å–æ–ª–∏ Yandex Cloud** –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Container Registry"
2. **–°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–µ—Å—Ç—Ä:**
   - –ù–∞–∑–≤–∞–Ω–∏–µ: `schedule-bot-registry`
   - –¢–∏–ø: `Docker Hub`
3. **–ó–∞–ø–æ–º–Ω–∏—Ç–µ ID —Ä–µ–µ—Å—Ç—Ä–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `crp1234567890abcdef`)

## –®–∞–≥ 2: –°–±–æ—Ä–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–∞

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:**

```bash
# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Container Registry
yc container registry configure-docker

# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t cr.yandex/crp1234567890abcdef/schedule-bot:latest .

# –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–∞
docker push cr.yandex/crp1234567890abcdef/schedule-bot:latest
```

## –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ Container Instance

1. **–í –∫–æ–Ω—Å–æ–ª–∏ Yandex Cloud** –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Container Instance"
2. **–°–æ–∑–¥–∞–π—Ç–µ –∏–Ω—Å—Ç–∞–Ω—Å:**
   - –ù–∞–∑–≤–∞–Ω–∏–µ: `schedule-bot`
   - –û–±—Ä–∞–∑: `cr.yandex/crp1234567890abcdef/schedule-bot:latest`
   - –ü–∞–º—è—Ç—å: 1 GB
   - vCPU: 1
   - –ü–æ—Ä—Ç: 8000

3. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - `BOT_TOKEN=7613496891:AAG8Jb75aUPvy7Jh8v_Nk91QGBxrGeJIEKQ`
   - `DATABASE_URL=sqlite:///./schedule.db`
   - `DEBUG=False`
   - `WEBAPP_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.yandexcloud.net`

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Load Balancer (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–°–æ–∑–¥–∞–π—Ç–µ Application Load Balancer**
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ backend group** —Å –≤–∞—à–∏–º Container Instance
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTP router** –Ω–∞ –ø–æ—Ä—Ç 8000
4. **–ü–æ–ª—É—á–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π IP**

## –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

1. **–í @BotFather** –æ–±–Ω–æ–≤–∏—Ç–µ Web App URL:
   - `/mybots` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ ‚Üí `Bot Settings` ‚Üí `Menu Button`
   - URL: `https://–≤–∞—à-–¥–æ–º–µ–Ω.yandexcloud.net`

## –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ:**

```bash
# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
echo "BOT_TOKEN=7613496891:AAG8Jb75aUPvy7Jh8v_Nk91QGBxrGeJIEKQ" > .env

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Docker Compose
docker-compose up --build
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **–õ–æ–≥–∏:** –í –∫–æ–Ω—Å–æ–ª–∏ Container Instance
- **–ú–µ—Ç—Ä–∏–∫–∏:** –í —Ä–∞–∑–¥–µ–ª–µ "Monitoring"
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–ª–∏ —Ä—É—á–Ω–æ–µ

## –°—Ç–æ–∏–º–æ—Å—Ç—å

- **Container Instance:** ~300-500 —Ä—É–±/–º–µ—Å
- **Container Registry:** ~100 —Ä—É–±/–º–µ—Å
- **Load Balancer:** ~200 —Ä—É–±/–º–µ—Å
- **–¢—Ä–∞—Ñ–∏–∫:** ~1-2 —Ä—É–±/GB

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Yandex Cloud

- ‚úÖ –†–æ—Å—Å–∏–π—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- ‚úÖ –û–ø–ª–∞—Ç–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- ‚úÖ –ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –≤ –†–æ—Å—Å–∏–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –Ø–Ω–¥–µ–∫—Å–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ 